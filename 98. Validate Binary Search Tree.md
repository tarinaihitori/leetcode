1st
再帰で解けそう。

```python
class Solution:
    def isValidBST(self, root: Optional[TreeNode]) -> bool:
        def _is_valid_bst(node, low =-inf, high = inf):
            if node is None:
                return True
            if not (low < node.val < high):
                return False
            return _is_valid_bst(node.left, low, node.val) and _is_valid_bst(node.right, node.val, high)
        return _is_valid_bst(root)
```

2nd
stack を用いた DFS
今回の制約上、root に None が来ることはないが、もし None が引数として渡された場合、True か False どちらを返すべきなのだろうか。
論理的に考えれば、True を返すべきだと思うが、気になる。
調べた結果、True を返すのが正しそう。
https://en.wikipedia.org/wiki/Vacuous_truth
https://zenn.dev/wsuzume/articles/c4f85df441def6

```python
class Solution:
    def isValidBST(self, root: Optional[TreeNode]) -> bool:
        stack = [(root, float('-inf'), float('inf'))]
        while stack:
            node, low, high = stack.pop()
            if node is None:
                continue
            val = node.val
            if not (low < node.val < high):
                return False
            stack.append((node.right, val, high))
            stack.append((node.left, low, val))
        return True
```

BFS

```python
from collections import deque

class Solution:
    def isValidBST(self, root: Optional[TreeNode]) -> bool:
        if root is None:
            return True
        queue = deque([(root, float('-inf'), float('inf'))])
        while queue:
            node, low, high = queue.popleft()
            if not node:
                continue
            val = node.val
            if not (low < val < high):
                return False
            queue.append((node.left, low, val))
            queue.append((node.right, val, high))
        return True

```
